"use client";

import React, { useEffect, useState } from "react";
import Image from "next/image";
import "./Header.scss";
import { ActiveLink } from "../UI/ActiveLink/ActivLink";
import { Menu } from "@/components/Header/Menu/Menu";
import { MobileMenu } from "@/components/Header/MobileMenu/MobileMenu";
import { Line } from "@/components/UI/Line/Line";
import {
  CiCart,
  CiChevronDown,
  CiPhone,
  CiSearch,
  CiUser,
} from "@/assets/icons";

export const Header = () => {
  const [isActive, setIsActive] = useState(false);

  const handleToggle = () => {
    setIsActive((prev) => !prev);
  };

  useEffect(() => {
    document.body.classList.toggle("hidden", isActive);
  }, [isActive]);

  return (
    <header>
      <div className='top-bar-header'>
        <a
          href='tel:+380123456789'
          className='phone-top-bar active-link'
        >
          <CiPhone size={22} />

          <span>[0800 50 51 13]</span>
          <CiChevronDown size={22} />
        </a>

        <div className='list-top-bar-header'>
          <ul>
            <li>
              <ActiveLink rout={"/promotional-offers"}>
                Акційні пропозиції
              </ActiveLink>
            </li>
            <li>
              <ActiveLink rout={"/delivery-payment"}>
                Доставка і Оплата
              </ActiveLink>
            </li>
            <li>
              <ActiveLink rout={"/articles"}>Статті</ActiveLink>
            </li>
            <li>
              <ActiveLink rout={"/our-team"}>Наша команда</ActiveLink>
            </li>
            <li>
              <ActiveLink rout={"/about"}>Про магазин</ActiveLink>
            </li>
          </ul>
        </div>

        <div className='language-top-bar-header'>
          <div>ua</div>
          <div>
            <svg
              xmlns='http://www.w3.org/2000/svg'
              width='33'
              height='41'
              viewBox='0 0 33 41'
              fill='none'
            >
              <path
                d='M14.845 16.9355C14.8041 16.8149 14.7169 16.7157 14.6025 16.6595L12.9356 15.8388C12.8216 15.7826 12.69 15.7741 12.5691 15.8151C12.4488 15.856 12.3494 15.9432 12.2931 16.0574L11.5706 17.5254C11.4536 17.7634 11.5516 18.051 11.7894 18.168L13.4559 18.9884C13.5241 19.0218 13.5963 19.0377 13.6675 19.0377C13.8447 19.0377 14.015 18.9393 14.0984 18.7699L14.8213 17.3021C14.8775 17.1879 14.8859 17.056 14.845 16.9355ZM13.4494 17.9151L12.6438 17.5187L12.9425 16.9121L13.7478 17.3087L13.4494 17.9151ZM17.9059 18.2855L16.2391 17.4651C16.1247 17.4088 15.9931 17.4004 15.8725 17.4413C15.7519 17.4823 15.6528 17.5695 15.5966 17.6837L14.8741 19.1518C14.7569 19.3896 14.855 19.6771 15.0928 19.7943L16.7597 20.6149C16.8263 20.6477 16.8988 20.6643 16.9716 20.6643C17.0238 20.6643 17.0759 20.6559 17.1263 20.6387C17.2469 20.5977 17.3459 20.5105 17.4022 20.3962L18.1247 18.928C18.2419 18.6902 18.1438 18.4026 17.9059 18.2855ZM16.7528 19.5415L15.9472 19.1449L16.2459 18.5384L17.0516 18.9349L16.7528 19.5415ZM31.3516 22.1784C30.6049 21.9658 29.7531 21.844 28.8822 21.8039C29.5807 20.9549 29.9941 19.8068 29.8616 18.357C29.775 17.411 29.5547 16.6179 29.3853 16.1193C29.2991 15.8657 29.0713 15.6901 28.8044 15.672C28.5341 15.6548 28.2891 15.7966 28.1697 16.0359C28.0669 16.2421 27.9744 16.4213 27.8913 16.5768C27.5444 14.9873 26.5794 13.8746 26.1034 13.4057C25.9369 13.2413 25.7022 13.1779 25.4753 13.2365C25.2488 13.2949 25.0734 13.4638 25.0066 13.6898L24.9719 13.8085C24.83 14.2896 24.5109 14.7016 24.0734 14.9684C23.3031 15.4382 22.7572 16.0984 22.4334 16.7652C22.2216 16.412 21.9694 16.0755 21.6909 15.7837C21.5294 15.6143 21.2969 15.5443 21.0675 15.5979C20.8397 15.6509 20.6544 15.8227 20.5838 16.0468C20.4143 16.5875 20.3043 17.1239 20.2472 17.6539L14.837 14.9905C15.0913 14.7809 15.3132 14.535 15.4813 14.2479C15.9794 13.3974 16.4381 11.5185 13.9175 8.49102C13.8044 8.35492 13.6269 8.29211 13.4516 8.3282C13.2781 8.36398 13.1384 8.49242 13.0884 8.66242C12.9403 9.1643 12.6425 9.67992 12.4241 9.81227C11.9475 10.1009 11.5991 10.5038 11.3956 10.9846C11.1806 10.7563 10.952 10.552 10.7516 10.3729L10.6592 10.2901C10.5398 10.1829 10.3748 10.1423 10.2191 10.182C10.0636 10.2218 9.93813 10.337 9.88516 10.4885C9.53032 11.5034 9.37876 12.1912 9.53469 13.1338C9.66204 13.9028 10.0358 14.5367 10.5849 14.9887L8.59012 17.3074L7.01579 16.5324C6.78297 16.4177 6.50766 16.4235 6.27938 16.5477C6.05126 16.6721 5.89735 16.9005 5.86766 17.1587L5.33303 21.8034C4.05836 21.7443 2.74204 21.8659 1.6486 22.1771C1.39376 22.2496 1.24579 22.5149 1.31829 22.7699C1.39094 23.0252 1.65688 23.1724 1.91141 23.1002C2.23114 23.0093 2.58016 22.9413 2.93954 22.8856C4.43942 22.6527 6.19782 22.721 7.53922 23.1024C8.4575 23.3637 9.5336 23.4943 10.6103 23.4943C11.6888 23.4943 12.7678 23.3634 13.6894 23.1009C14.6964 22.8146 15.9458 22.705 17.1439 22.7673C16.9123 22.8014 16.7338 22.9992 16.7338 23.2402C16.7338 23.4766 16.9052 23.6721 17.1302 23.7118H16.5847C16.3197 23.7118 16.1047 23.9268 16.1047 24.1918C16.1047 24.4568 16.3197 24.6718 16.5847 24.6718H16.8319C16.607 24.7116 16.4356 24.907 16.4356 25.1434C16.4356 25.3787 16.6055 25.5737 16.829 25.6146H14.9113C14.6463 25.6146 14.4313 25.8296 14.4313 26.0946C14.4313 26.3596 14.6463 26.5746 14.9113 26.5746H15.6682C15.4432 26.6144 15.2719 26.8098 15.2719 27.0462C15.2719 27.3112 15.4869 27.5262 15.7519 27.5262H20.6397C20.9047 27.5262 21.1197 27.3112 21.1197 27.0462C21.1197 26.8098 20.9484 26.6144 20.7234 26.5746H23.9856C24.2506 26.5746 24.4656 26.3596 24.4656 26.0946C24.4656 25.8594 24.2959 25.6644 24.0725 25.6234H25.99C26.255 25.6234 26.47 25.4084 26.47 25.1434C26.47 24.8784 26.255 24.6634 25.99 24.6634H25.7426C25.9677 24.6236 26.1391 24.4282 26.1391 24.1918C26.1391 23.9555 25.9677 23.76 25.7428 23.7202H26.2881C26.5448 23.7202 26.7528 23.518 26.7657 23.2644C27.1235 23.1364 27.4693 22.969 27.7938 22.7625C28.9424 22.7179 30.1261 22.8275 31.0884 23.1015C31.1666 23.1235 31.2449 23.1229 31.319 23.1072C31.4874 23.0714 31.6312 22.9483 31.6816 22.7715C31.7544 22.5165 31.6066 22.2509 31.3516 22.1784ZM10.4819 12.977C10.3995 12.4801 10.415 12.0854 10.5683 11.5126C10.8686 11.8113 11.1516 12.1526 11.2152 12.4666C11.2661 12.7185 11.5072 12.8849 11.7606 12.8454C12.0147 12.8052 12.1919 12.5721 12.1625 12.3166C12.1028 11.7948 12.1859 11.079 12.9216 10.6334C13.2466 10.4363 13.4975 10.0795 13.6763 9.74227C14.8544 11.3671 15.2119 12.8082 14.6528 13.7629C14.2163 14.5085 13.2197 14.902 12.2294 14.7184C11.7769 14.6348 10.7005 14.2976 10.4819 12.977ZM7.79422 22.1771C7.327 22.0441 6.81858 21.9458 6.29049 21.8804L6.52397 19.8523L11.8336 22.4661C10.4696 22.6046 8.97067 22.5117 7.79422 22.1771ZM13.4234 22.1787C13.4234 22.1787 13.4235 22.1786 13.4234 22.1787L6.67079 18.8546C6.66079 18.8497 6.6503 18.8474 6.64014 18.8432L6.79547 17.494L15.584 21.8203C14.8224 21.8738 14.0822 21.9912 13.4234 22.1787ZM19.5744 22.1777C19.0392 22.0254 18.4478 21.9228 17.8364 21.8592L9.47971 17.7454L11.4295 15.4791C11.6275 15.5557 11.8332 15.6215 12.0547 15.6624C12.2809 15.7041 12.5063 15.7245 12.7278 15.7245C13.1021 15.7245 13.4635 15.6611 13.803 15.5514L20.2061 18.7035C20.2148 18.9551 20.2388 19.2042 20.274 19.4514L19.5428 19.0915C19.3056 18.9755 19.0175 19.0724 18.9003 19.3099L18.1775 20.7777C18.1213 20.8921 18.1128 21.024 18.1538 21.1446C18.1947 21.2649 18.2819 21.3643 18.3963 21.4205L20.0631 22.2412C20.1297 22.274 20.2022 22.2905 20.275 22.2905C20.3272 22.2905 20.3794 22.2821 20.4297 22.2649C20.5503 22.224 20.6494 22.1368 20.7056 22.0224L20.976 21.473C21.232 21.8853 21.5418 22.2307 21.8878 22.5165C21.0669 22.4834 20.2638 22.3737 19.5744 22.1777ZM20.355 20.5612L20.0563 21.1677L19.2509 20.7712L19.5497 20.1646L20.355 20.5612ZM25.5278 22.5843C23.6997 22.8212 21.6591 21.9471 21.2434 19.4599C21.1041 18.6284 21.1409 17.7598 21.3519 16.8713C21.7178 17.3676 21.9956 17.9463 22.0972 18.4468C22.1481 18.699 22.3891 18.8655 22.6425 18.8255C22.8966 18.7855 23.0738 18.5521 23.0444 18.2968C22.9631 17.5882 23.5247 16.4276 24.5734 15.788C25.1022 15.4655 25.5131 14.9966 25.7588 14.4438C26.3291 15.112 27.1206 16.339 27.055 17.948C27.0478 18.1305 27.1444 18.3013 27.3047 18.3888C27.4647 18.4762 27.6609 18.4655 27.8103 18.3605C27.9159 18.2865 28.1403 18.1291 28.6816 17.1335C28.7725 17.4996 28.8603 17.9499 28.9053 18.4445C29.1353 20.9596 27.3159 22.3534 25.5278 22.5843ZM23.3909 13.1566C23.4441 13.1759 23.4991 13.1851 23.5538 13.1851C23.6834 13.1851 23.8103 13.1324 23.9025 13.0348C24.4572 12.4477 25.1756 10.9862 23.9259 9.65555C23.7063 9.42148 23.5281 9.2382 23.3869 9.09242C23.2419 8.94305 23.1038 8.8007 23.0453 8.72883C23.0075 8.56211 22.8822 8.42352 22.7109 8.37352C22.4928 8.30961 22.2578 8.40914 22.1519 8.61148C21.5681 9.72477 21.44 10.7212 21.7716 11.573C22.2188 12.7229 23.3434 13.1395 23.3909 13.1566ZM22.6988 9.76195C22.8372 9.90461 23.0113 10.084 23.2263 10.3127C23.8866 11.0155 23.6416 11.7137 23.4128 12.0932C23.1647 11.9351 22.8297 11.6534 22.6625 11.2159C22.505 10.8027 22.5172 10.3157 22.6988 9.76195ZM29.5066 15.1055C29.5953 15.179 29.7041 15.2157 29.8125 15.2157C29.9203 15.2157 30.0281 15.1795 30.1166 15.1071C30.1569 15.0741 31.1069 14.2835 31.1634 13.1052C31.1991 12.3663 30.8853 11.662 30.2306 11.012C30.0797 10.8621 29.8475 10.8295 29.6613 10.932C29.4938 11.024 29.3988 11.2051 29.4141 11.3913C29.3984 11.4913 29.2863 11.8699 28.9103 12.4057C28.1356 13.5107 28.9616 14.6549 29.5066 15.1055ZM29.6966 12.957C29.835 12.7593 29.9559 12.5607 30.0559 12.3701C30.1647 12.5976 30.2147 12.8255 30.205 13.0529C30.1875 13.4518 29.9925 13.7966 29.8134 14.0324C29.61 13.7545 29.4256 13.343 29.6966 12.957ZM26.7456 18.5052C26.5897 18.4659 26.425 18.5059 26.3056 18.6134L26.2434 18.669C26.1519 18.7509 26.0522 18.8402 25.9519 18.9368C25.7975 18.6702 25.5753 18.4438 25.2916 18.2718C25.1888 18.2098 25.0034 17.9009 24.9091 17.5805C24.8591 17.4105 24.7194 17.282 24.5459 17.2462C24.3709 17.2099 24.1931 17.2727 24.08 17.409C22.3094 19.5352 22.6463 20.8793 23.0044 21.4912C23.4006 22.168 24.1688 22.5693 25.0059 22.5693C25.1656 22.5693 25.3278 22.5549 25.4903 22.5249C26.4631 22.3449 27.1659 21.639 27.3241 20.6824C27.4353 20.0096 27.3291 19.5246 27.0797 18.8118C27.0266 18.6602 26.9013 18.5452 26.7456 18.5052ZM26.3772 20.5259C26.2447 21.3252 25.5906 21.5299 25.3156 21.5809C24.7069 21.693 24.0969 21.4571 23.8328 21.0062C23.5072 20.4502 23.6972 19.609 24.3506 18.6415C24.4681 18.8184 24.615 18.9846 24.7941 19.093C25.1388 19.3018 25.2872 19.6359 25.2356 20.0855C25.2063 20.3409 25.3834 20.574 25.6375 20.6143C25.8909 20.6559 26.1319 20.4877 26.1828 20.2355C26.2053 20.1246 26.2822 20.0018 26.3828 19.8796C26.4194 20.1071 26.4144 20.3005 26.3772 20.5259ZM12.6566 7.12383C12.6316 7.06117 12.4194 6.49023 12.7197 5.76945C12.8216 5.52508 13.1025 5.40883 13.3475 5.51086C13.5922 5.61273 13.7078 5.89383 13.6059 6.13852C13.4572 6.49555 13.5466 6.76383 13.5475 6.76633C13.6463 7.01227 13.5269 7.2918 13.2809 7.39055C13.2225 7.41398 13.1619 7.42523 13.1022 7.42523C12.9119 7.42523 12.7319 7.31133 12.6566 7.12383ZM8.31797 8.17148C8.45438 7.94414 8.74922 7.8707 8.97657 8.00695C9.64594 8.40883 9.81422 8.99398 9.83125 9.0593C9.89797 9.31586 9.74407 9.57789 9.4875 9.64461C9.44704 9.65523 9.40641 9.66023 9.36641 9.66023C9.15579 9.66023 8.96329 9.52055 8.90438 9.30914C8.89719 9.28648 8.80766 9.02523 8.48251 8.83008C8.25516 8.69352 8.18157 8.39867 8.31797 8.17148Z'
                fill='#363636'
              />
            </svg>
          </div>
        </div>
      </div>

      <div className='main-header'>
        <div
          className={`burger-menu ${isActive ? "active" : ""}`}
          onClick={handleToggle}
        >
          <span className='burger-menu__line' />
          <span className='burger-menu__line' />
          <span className='burger-menu__line' />
        </div>

        <MobileMenu isActive={isActive} />
        <form className='search'>
          <CiSearch />
          <input
            type='text'
            placeholder='Пошук'
          />
        </form>

        <Image
          className='logo-top-bar-header'
          src={"/logo.png"}
          alt={"logo"}
          width={200}
          height={99}
        />

        {!isActive && (
          <div className='user-actions-header'>
            <CiSearch
              size={20}
              color='#363636'
            />
            <CiUser
              size={20}
              color='#363636'
            />
            <CiCart
              size={20}
              color='#363636'
            />
          </div>
        )}
      </div>
      <Line
        isAbsolute={false}
        isMobile={true}
      />
      <Menu />
      <Line isAbsolute={false} />
    </header>
  );
};
